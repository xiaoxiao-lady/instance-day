<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .overHidden {
        width: 300px;
        border: 1px solid red;
        overflow: hidden;
        height: 150px;
        line-height: 30px;
      }

      p {
        margin: 0;
      }
    </style>
  </head>

  <body></body>
  <script>
    function debounce(fn, wait) {
      let timer = null; //通过闭包保存timer状态

      return function() {
        let that = this; //保存this指向，因为settimeout内部的this指向不一定和函数的相同
        let args = arguments; //保存arguments指向，因为arguments内部的this指向不一定和函数的相同
        if (timer) {
          clearTimeout(timer);
        }
        timer = setTimeout(() => {
          fn.apply(that, arguments);
        }, wait);
      };
    }

    function throttle(fn, wait) {
      let old = 0;
      return function() {
        let now = new Date().valueOf();
        if (now - old > wait) {
          fn.apply(this, arguments);
          old = now;
        }
      };
    }
    function throttle1(fn, wait) {
      let timer;
      return function() {
        if (!timer) {
          timer = setTimeout(() => {
            clearTimeout(timer);
            timer = null;
            fn.apply(this, arguments);
          }, wait);
        }
      };
    }
  </script>
</html>
